{% extends 'base.html.twig' %}

{% block body %}

<div class="hero-image">
    <div class="hero-text">
        <h1 class="style">Welcome in Snowtrick <br> The Freshest PUFF Station</h1>
    </div>
    <a href ="/#tricks">
    <div class="bottom-right-con">
        <div class="round">
            <div class="arrow"></div>
            <div class="arrow"></div>
            <div class="arrow"></div>
            <div class="arrow"></div>
        </div>
    </div>
    </a>
</div>


<br><br>
<section id='tricks'>
    <div  id="trickList" class="d-flex justify-content-center flex-wrap  container-fluid">
    {% for trick in tricks %}
    <div class="card m-2">
        <img class="card-img-top" src="/images/snowboard_header.jpg" alt="Card image cap">
            <div class="card-body d-flex">
            <p class="me-auto"><a href="trick/{{ trick.id }}/{{ trick.slug }}">{{trick.name }}</a></p>
            <p><a href="edit-trick/{{ trick.id}}"> <i class="text-secondary bi bi-pen"></i></a></p>
            <p><a href="delete-trick/{{ trick.id}}"><i class="text-danger bi bi-trash"></i></a></p>
            </div>
        </div>
    {% endfor %}
    </div>
</section>
<section>
<div class="text-center p-3">
    <button id="loadMoreTricks" class="btn btn-primary">Load More</button>
</div>
<div class="d-flex flex-row-reverse">
<a href="/#tricks" id="arrow-up" class="to-top"></a>
</div>
</section>


{% endblock %}

{% block javascripts %}
{{ parent() }}
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>

    click = 0;
    function loadMoreTricks(event) {
        event.preventDefault();
        click++;
        var start = 5 * click;
        if (start > 14) { 
            document.getElementById("arrow-up").classList.add("fade-in-image");
            document.getElementById("arrow-up").style.visibility = "visible";
            }
        const url = "/tricks/" + start;
        axios.get(url).then(function(response) {
            console.log(response);
            $("#trickList").append(response.data);
        });
    }
    document.getElementById("loadMoreTricks").addEventListener("click", loadMoreTricks);
    document.getElementById("loadMoreTricks").addEventListener("click", loadMoreTricks);
</script>
{% endblock %}
